# alias-vapor

Была реализована лишь авторизация:(

### Развертывание

``` bash
docker-compose up
```

Возможно, дз еще развернуто на valerycrane.com:8080. Но не гарантирую, там очень мало оперативки и мне он еще нужен для курсача:)

# API

# Методы неавторизованной зоны:

### POST *users/signup*

Регистрация. Принимает параметры входа пользователя:

``` json
{
  "username": <Имя пользователя>,
  "password": <Пароль>
}
```

Отдает Bearer токен:

``` json
{
    "token": <Сам токен>,
    "user": {
        "id": <ID пользователя>
    },
    "id": <ID токена>
}
```

Если пользователь с таким username уже был зарегестирован, то будет выдана ошибка.
Пароль шифруется при помощи Bcrypt.

### POST *users/signin*

Авторизация. Принимает параметры входа пользователя:

``` json
{
  "username": <Имя пользователя>,
  "password": <Пароль>
}
```

Отдает Bearer токен:

``` json
{
    "token": <Сам токен>,
    "user": {
        "id": <ID пользователя>
    },
    "id": <ID токена>
}
```

Для каждой авторизации/рагистрации создается новый токен, связанный с пользователем. 
С пользователем может быть связано сколько угодно токенов.

# Методы авторизованной зоны:

Для этих методов требуется передавать заголовок:

```
Authorization: Bearer <Токен>
```

### POST *users/signout*

Разлогинивает пользователя по Bearer токену (удаляет токен из базы). Если все ок - вернет true.

### GET *users/info*

Возвращает информацио о пользователе:

``` json
{
    "password": <Пароль в зашифрованном виде>,
    "id": <ID пользователя>,
    "username": <Имя пользователя>
}
```
